<!DOCTYPE html>
<html>
  <head>
    <title>Build API Docs for the RHQ Project</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    
    
    <link rel="apple-touch-icon" sizes="57x57" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-57x57.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="60x60" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-60x60.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="72x72" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-72x72.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="76x76" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-76x76.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="114x114" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-114x114.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="120x120" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-120x120.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="144x144" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-144x144.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="152x152" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-152x152.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="apple-touch-icon" sizes="180x180" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/apple-touch-icon-180x180.png?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="icon" type="image/png" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/favicon-32x32.png?v=wAAv6Wqe6l?v=1535063628196" sizes="32x32">
    <link rel="icon" type="image/png" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/favicon-194x194.png?v=wAAv6Wqe6l?v=1535063628196" sizes="194x194">
    <link rel="icon" type="image/png" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/favicon-96x96.png?v=wAAv6Wqe6l?v=1535063628196" sizes="96x96">
    <link rel="icon" type="image/png" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/android-chrome-192x192.png?v=wAAv6Wqe6l?v=1535063628196" sizes="192x192">
    <link rel="icon" type="image/png" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/favicon-16x16.png?v=wAAv6Wqe6l?v=1535063628196" sizes="16x16">
    <link rel="manifest" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/manifest.json?v=wAAv6Wqe6l?v=1535063628196">
    <link rel="shortcut icon" href="//jaredleonmorgan.net/themes/uno-zen/assets/img/favicon.ico?v=wAAv6Wqe6l?v=1535063628196">
    <meta name="msapplication-TileColor" content="#e74c3c">
    <meta name="msapplication-TileImage" content="//jaredleonmorgan.net/themes/uno-zen/assets/img/mstile-144x144.png?v=wAAv6Wqe6l?v=1535063628196">
    <meta name="msapplication-config" content="//jaredleonmorgan.net/themes/uno-zen/assets/img/browserconfig.xml?v=wAAv6Wqe6l?v=1535063628196">
    <meta name="theme-color" content="#e74c3c">
    <link rel="stylesheet" type="text/css" href="//jaredleonmorgan.net/themes/uno-zen/assets/css/uno-zen.css?v=1535063628196" />
    <link rel="canonical" href="http://jaredleonmorgan.net/2015/02/16/Build-API-Docs-for-the-RHQ-Project.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Jared Morgan (jaredmorgs) " />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Build API Docs for the RHQ Project" />
    <meta property="og:description" content="Granted, this blog post will only likely interest the following audience: Red Hat associates. Folks using the upstream RHQ project. Folks interested in techniques for generating API docs using Maven. There are two parts to this post: The Original Process This covers the steps I took to build RHQ in" />
    <meta property="og:url" content="http://jaredleonmorgan.net/2015/02/16/Build-API-Docs-for-the-RHQ-Project.html" />
    <meta property="og:image" content="covers/open_source.jpg" />
    <meta property="article:published_time" content="2015-02-16T00:00:00.000Z" />
    <meta property="article:tag" content="Maven" />
    <meta property="article:tag" content="RHQ" />
    <meta property="article:tag" content="API Docs" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Build API Docs for the RHQ Project" />
    <meta name="twitter:description" content="Granted, this blog post will only likely interest the following audience: Red Hat associates. Folks using the upstream RHQ project. Folks interested in techniques for generating API docs using Maven. There are two parts to this post: The Original Process This covers the steps I took to build RHQ in" />
    <meta name="twitter:url" content="http://jaredleonmorgan.net/2015/02/16/Build-API-Docs-for-the-RHQ-Project.html" />
    <meta name="twitter:image:src" content="covers/open_source.jpg" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Jared Morgan (jaredmorgs) ",
    "author": {
        "@type": "Person",
        "name": "Jared Morgan",
        "image": "https://avatars1.githubusercontent.com/u/952793?v=4",
        "url": "http://jaredleonmorgan.net/author/jaredmorgs/",
        "sameAs": "http://jaredleonmorgan.net",
        "description": "Technical Writer | Product Owner | Podcaster | Pinball Nerd"
    },
    "headline": "Build API Docs for the RHQ Project",
    "url": "http://jaredleonmorgan.net/2015/02/16/Build-API-Docs-for-the-RHQ-Project.html",
    "datePublished": "2015-02-16T00:00:00.000Z",
    "image": "covers/open_source.jpg",
    "keywords": "Maven, RHQ, API Docs",
    "description": "Granted, this blog post will only likely interest the following audience: Red Hat associates. Folks using the upstream RHQ project. Folks interested in techniques for generating API docs using Maven. There are two parts to this post: The Original Process This covers the steps I took to build RHQ in"
}
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="Jared Morgan (jaredmorgs) " href="http://jaredleonmorgan.net/rss/" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/prism/1.14.0/themes/prism-okaidia.min.css">
    
        <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
  </head>
  <body class="post-template tag-Maven tag-RHQ tag-API-Docs">
    <header id="menu-button" class="expanded">
      <a><i class="icon icon-list"></i></a>
    </header>
    <aside class="cover" style="background: url(/images/covers/pinball.jpg) center/cover no-repeat fixed">
      <div class="cover container">
        <div class="profile">
          <a id="avatar-link" title="link to homepage for Jared Morgan (jaredmorgs) " href="http://jaredleonmorgan.net/#open">
            <img src="/images/covers/logo.jpg" alt="Jared Morgan (jaredmorgs)  avatar" class="profile avatar rounded hvr-buzz-out" />
            <h1 id="profile-title">Jared Morgan (jaredmorgs) </h1>
            <h3 id="profile-resume"></h3>
          </a>
    
          <hr class="divider long" />
          <p>Tech Writer with a Product focus | Podcaster | Pinball Nut</p>
          <hr class="divider short" />
          <div class="navigation">
            <div class="profile contact">
              
              <nav class="navigation right">
                <ul class="social expanded">
              
              
                  <!-- Twitter -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://twitter.com/jaredmorgs" title="Twitter account">
                      <i class='icon icon-social-twitter'></i>
                      <span class="label">Twitter</span>
                    </a>
                  </li>
              
                  <!-- Google Plus -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://plus.google.com/+JaredMorgan_jaredmorgs/reviews/p/pub" title="Google+ account">
                      <i class='icon icon-social-google-plus'></i>
                      <span class="label">Google-plus</span>
                    </a>
                  </li>
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://github.com/jaredmorgs/" title="Github account">
                      <i class='icon icon-social-github'></i>
                      <span class="label">Github</span>
                    </a>
                  </li>
                  </li>
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://instagram.com/jaredmorgs" title="Instagram account">
                      <i class='icon icon-social-instagram'></i>
                      <span class="label">Instagram</span>
                    </a>
                  </li>
                  </li>
              
              
                  <!-- Github -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://picasaweb.google.com/117309635670089895654" title="Flickr account">
                      <i class='icon icon-social-flickr'></i>
                      <span class="label">Flickr</span>
                    </a>
                  </li>
                  </li>
              
                  <!-- LinkedIn -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="https://www.linkedin.com/in/jaredmorgs" title="LinkedIn account">
                      <i class='icon icon-social-linkedin'></i>
                      <span class="label">LinkedIn</span>
                    </a>
                  </li>
              
                  <!-- Email -->
                  <li class="social item hvr-grow-rotate">
                    <a rel="me" href="mailto:jaredleonmorgan@gmail.com" title="Email jaredleonmorgan@gmail.com">
                      <i class='icon icon-mail'></i>
                      <span class="label">Email</span>
                    </a>
                  </li>
              
                </ul>
              </nav>
              <!-- <section class="icon icon-search" id="search-container">
      <hr class="divider short" />
      <form id="search-form">
        <input type="text", name="search", placeholder="git, css, javascript,..." id="search-field" />
      </form>
    </section>
     -->
            </div>
          </div>
        </div>
      </div>
    </aside>
    <main>
      <section id="search-results"></section>
      <section class="content">
        

  <article class="post tag-Maven tag-RHQ tag-API-Docs">
    <header>
      <div class="post meta">
        <time datetime="16 Feb 2015">16 Feb 2015</time>
        <span class="post tags">in <a href="http://jaredleonmorgan.net/tag/Maven/">Maven</a> <a href="http://jaredleonmorgan.net/tag/RHQ/">RHQ</a> <a href="http://jaredleonmorgan.net/tag/API-Docs/">API Docs</a></span>


        <span class="post reading-time"> ~ <span></span> read.</span>
      </div>
      <a alt="Tweet 'Build API Docs for the RHQ Project'" href="https://twitter.com/intent/tweet?text=Build%20API%20Docs%20for%20the%20RHQ%20Project%20%C2%BB&amp;hashtags=Maven,RHQ,API Docs&amp;url=http://jaredleonmorgan.net/">
        <img id="post-image" src=covers/open_source.jpg alt="Build API Docs for the RHQ Project">
        <h1 class="icon-reverse icon-social-twitter-post" id="post-title">Build API Docs for the RHQ Project</h1>
      </a>
    </header>

    <div id="post-content" class="post tag-Maven tag-RHQ tag-API-Docs">
      <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Granted, this blog post will only likely interest the following audience:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Red Hat associates.</p>
</li>
<li>
<p>Folks using the upstream RHQ project.</p>
</li>
<li>
<p>Folks interested in techniques for generating API docs using Maven.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are two parts to this post:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Original Process</p>
<div class="ulist">
<ul>
<li>
<p>This covers the steps I took to build RHQ in a hope that others will benefit from it.</p>
</li>
<li>
<p>Some interesting take-aways about what happens when you forget to provide pre-requisite content in a procedure.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The Actual Process</p>
<div class="ulist">
<ul>
<li>
<p>When we get to this point, I&#8217;ll put the actual procedure you need to follow to produce the API docs.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_original_process">The Original Process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The original process was:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>$ yum install maven</code></p>
</li>
<li>
<p><code>$ git clone <a href="https://github.com/rhq-project/rhq.git" class="bare">https://github.com/rhq-project/rhq.git</a> jon</code></p>
</li>
<li>
<p><code>$ cd jon</code></p>
</li>
<li>
<p><code>$ cd modules/enterprise/server/jar</code></p>
</li>
<li>
<p><code>$ mvn -Ddocgen install  (or compile)</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>But after five attempts lasting over three days, I now know this is misleading to say the least.</p>
</div>
<div class="sect2">
<h3 id="_first_attempt_no_success">First Attempt: No Success</h3>
<div class="paragraph">
<p>I ran the steps in the process, and sat back with a cuppa tea&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Note the build time&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">Downloaded: http://repo.maven.apache.org/maven2/org/mockito/mockito-all/1.9.0/mockito-all-1.9.0.jar (1461 KB at 76.0 KB/sec)
Downloaded: http://repo.maven.apache.org/maven2/org/testng/testng/6.5.2/testng-6.5.2.jar (701 KB at 36.4 KB/sec)
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 15:13 min
[INFO] Finished at: 2015-02-16T10:00:51+10:00
[INFO] Final Memory: 19M/242M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project rhq-enterprise-server: Could not resolve dependencies for project org.rhq:rhq-enterprise-server:ejb:4.14.0-SNAPSHOT: The following artifacts could not be resolved: org.rhq:rhq-enterprise-comm:jar:4.14.0-SNAPSHOT, org.rhq:rhq-enterprise-server-xml-schemas:jar:4.14.0-SNAPSHOT, org.rhq:rhq-core-domain:jar:4.14.0-SNAPSHOT, org.rhq:rhq-cassandra-schema:jar:4.14.0-SNAPSHOT, org.rhq:rhq-core-plugin-api:jar:4.14.0-SNAPSHOT, org.rhq:rhq-core-client-api:jar:4.14.0-SNAPSHOT, org.rhq:rhq-core-dbutils:jar:4.14.0-SNAPSHOT, org.rhq:safe-invoker:jar:4.14.0-SNAPSHOT, org.rhq:rhq-common-drift:jar:4.14.0-SNAPSHOT, org.rhq:rhq-server-metrics:jar:4.14.0-SNAPSHOT, org.rhq:rhq-cassandra-util:jar:4.14.0-SNAPSHOT, org.rhq:rhq-jboss-as-dmr-client:jar:4.14.0-SNAPSHOT, org.rhq:test-utils:jar:4.14.0-SNAPSHOT, org.rhq.helpers:rest-docs-generator:jar:4.14.0-SNAPSHOT, org.rhq:rhq-core-domain:jar:tests:4.14.0-SNAPSHOT: Could not find artifact org.rhq:rhq-enterprise-comm:jar:4.14.0-SNAPSHOT in sonatype-snapshots (https://oss.sonatype.org/content/repositories/snapshots/) -&gt; [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException</code></pre>
</div>
</div>
<div class="paragraph">
<p>I can&#8217;t really complain about this though: the first time you build a Maven project, you can expect it to take a long time as it downloads the required dependencies.</p>
</div>
<div class="paragraph">
<p>The error at this stage suggests I need to build the required dependencies myself before the DocGen tool will work.</p>
</div>
<div class="paragraph">
<p>No worries!</p>
</div>
</div>
<div class="sect2">
<h3 id="_second_attempt_build_deps">Second Attempt: Build Deps?</h3>
<div class="paragraph">
<p>Luckily the folks in the RHQ project have made dependency building as simple as possible.</p>
</div>
<div class="paragraph">
<p>In the root of the project there is this script:</p>
</div>
<div class="paragraph">
<p><code>$ ./build-deps.sh</code></p>
</div>
<div class="paragraph">
<p>Run this script, and it orchestrates the dependency build process for the project. This type of automation is great for folks wanting to easily build the project. Great work RHQ team!</p>
</div>
<div class="paragraph">
<p>The script and the resulting process completed successfully, and I thought I was ready to run DocGen.</p>
</div>
<div class="paragraph">
<p>Not. So. Fast.</p>
</div>
<div class="paragraph">
<p>It turns out that this script builds the Cassandra dependencies. These are unrelated to the DocGen process, but there was nothing in the repo to tell me that.</p>
</div>
</div>
<div class="sect2">
<h3 id="_third_attempt_run_doggen_at_project_root">Third Attempt: Run DogGen at Project Root?</h3>
<div class="paragraph">
<p>I ran <code>$ mvn -Ddocgen install</code> and got this result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">[INFO] ------------------------------------------------------------------------
[INFO] Building RHQ Enterprise Server JAR 4.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The POM for org.rhq:rhq-enterprise-comm:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-enterprise-server-xml-schemas:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-domain:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-cassandra-schema:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-plugin-api:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-client-api:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-dbutils:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:safe-invoker:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-common-drift:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-server-metrics:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-cassandra-util:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-jboss-as-dmr-client:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:test-utils:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq.helpers:rest-docs-generator:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-domain:jar:tests:4.14.0-SNAPSHOT is missing, no dependency information available</code></pre>
</div>
</div>
<div class="paragraph">
<p>Still no bueno with DocGen. :(</p>
</div>
<div class="paragraph">
<p>At this point, I hit a dead end. And when I hit a dead end, I start doing <em>questionable</em> things in hope that I can resolve the issue.</p>
</div>
<div class="paragraph">
<p>I thought perhaps the following step was wrong:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>4) `$ cd modules/enterprise/server/jar`</pre>
</div>
</div>
<div class="paragraph">
<p>I though to myself "Perhaps I need to execute <code>$ mvn -Ddocgen install</code> at the project root?"</p>
</div>
<div class="paragraph">
<p>I executed the command at project root and things certainly looked promising. Maven began downloading a whole stack of dependencies that related to the platform. But as a Maven n00b, I learned after 11 minutes that this was a false sense of security. By executing the DocGen command at the project root, maven took the configuration in the root pom.xml file and began compiling the <strong>entire project</strong>.</p>
</div>
<div class="paragraph">
<p>Should have trusted the instructions on that one. But the positive out of this was I got a refresher about how Maven works. Lets chalk this up to experience.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Build only what you need, at the level you need.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; a Maven Warlock Lvl10
</div>
</div>
<div class="paragraph">
<p>Sagely advice for sure.</p>
</div>
</div>
<div class="sect2">
<h3 id="_fourth_attempt_branch_not_master">Fourth Attempt: Branch Not Master!</h3>
<div class="paragraph">
<p>After contacting the RHQ team (overnight - very quick response), they could see that I was running these commands against <code>master</code>. It turns out I needed to run DocGen on a branch and not master. They also gave me the tip that I could cut down the build time by specifying <code>-DskipTests</code> and possibly <code>-Dmaven.test.skip</code></p>
</div>
<div class="paragraph">
<p>Based on this feedback, I hypothesised the updated steps to be:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>$ yum install maven</code></p>
</li>
<li>
<p><code>$ git clone <a href="https://github.com/rhq-project/rhq.git" class="bare">https://github.com/rhq-project/rhq.git</a> jon</code></p>
</li>
<li>
<p><code>$ cd jon</code></p>
</li>
<li>
<p><code>$ git checkout -b release/<em>[latest_branch]</em></code></p>
</li>
<li>
<p><code>$ cd modules/enterprise/server/jar</code></p>
</li>
<li>
<p><code>$ mvn -Ddocgen compile -DskipTests -Dmaven.test.skip</code> (initially, then for subsequent builds)</p>
</li>
<li>
<p><code>$ mvn -Ddocgen install -DskipTests -Dmaven.test.skip</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Still no bueno with DocGen. :(</p>
</div>
<div class="paragraph">
<p>I ran the compile command first, which failed. I then, out of desperation, ran the install command. It produced the same result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-bash" data-lang="bash">[jmorgan@jmorgan-bne-redhat-com jar] (release/jon3.3.x) $ mvn -Ddocgen compile -DskipTests -Dmaven.test.skip
OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=512m; support was removed in 8.0
[INFO] Scanning for projects...
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Building RHQ Enterprise Server JAR 4.14.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[WARNING] The POM for org.rhq:rhq-enterprise-comm:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-enterprise-server-xml-schemas:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-domain:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-plugin-api:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-client-api:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-core-dbutils:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:safe-invoker:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-common-drift:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-server-metrics:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq:rhq-jboss-as-dmr-client:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[WARNING] The POM for org.rhq.helpers:rest-docs-generator:jar:4.14.0-SNAPSHOT is missing, no dependency information available
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1.557 s
[INFO] Finished at: 2015-02-17T10:32:18+10:00
[INFO] Final Memory: 18M/437M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal on project rhq-enterprise-server: Could not resolve dependencies for project org.rhq:rhq-enterprise-server:ejb:4.14.0-SNAPSHOT: The following artifacts could not be resolved:
org.rhq:rhq-enterprise-comm:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-enterprise-server-xml-schemas:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-core-domain:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-core-plugin-api:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-core-client-api:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-core-dbutils:jar:4.14.0-SNAPSHOT,
org.rhq:safe-invoker:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-common-drift:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-server-metrics:jar:4.14.0-SNAPSHOT,
org.rhq:rhq-jboss-as-dmr-client:jar:4.14.0-SNAPSHOT,
org.rhq.helpers:rest-docs-generator:jar:4.14.0-SNAPSHOT:
Failure to find org.rhq:rhq-enterprise-comm:jar:4.14.0-SNAPSHOT in https://oss.sonatype.org/content/repositories/snapshots/ was cached in the local repository, resolution will not be reattempted until the update interval of sonatype-snapshots has elapsed or updates are forced -&gt; [Help 1]
[ERROR]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fifth_attempt_why_pre_requisites_matter_in_docs">Fifth Attempt: Why Pre-requisites Matter in Docs</h3>
<div class="paragraph">
<p>So, I got a response from the RHQ list and a key piece of info was missing:</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
You need to <strong>build RHQ first</strong> before you can <strong>build the API docs</strong>. You also need to do it on <code>master</code>, not <code>release/jon3.3.x</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some choice expletives were uttered by me at this point&#8230;&#8203; This was not mentioned anywhere in the internal product doc repositories, in the originally-provided procedure, nor was it implied as a pre-requisite in the upstream docs.</p>
</div>
<div class="paragraph">
<p>The problem with not setting pre-requisites in documentation mean that if a user gets dumped here by Google, there was no context to say the project needs to be built first. Folks don&#8217;t read a book cover to cover any more. You need to cater for this by telling them basic information like this at every opportunity. Treach each page as page one.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s revise the procedure with the updated information received today:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>$ yum install maven</code></p>
</li>
<li>
<p><a href="https://docs.jboss.org/author/display/RHQ/Building+RHQ">Build RHQ</a>, which covers the following:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Install JDK</p>
</li>
<li>
<p>Install Maven</p>
</li>
<li>
<p>Install Git</p>
</li>
<li>
<p>Install and Create Database for PostgreSQL</p>
</li>
</ol>
</div>
</li>
<li>
<p><code>$ git clone <a href="https://github.com/rhq-project/rhq.git" class="bare">https://github.com/rhq-project/rhq.git</a> jon</code></p>
</li>
<li>
<p><code>$ cd jon</code></p>
</li>
<li>
<p><code>$ git checkout -b release/<em>[latest_branch]</em></code></p>
</li>
<li>
<p><code>$ cd modules/enterprise/server/jar</code></p>
</li>
<li>
<p><code>$ mvn -Ddocgen compile -DskipTests -Dmaven.test.skip</code> (initially, then for subsequent builds)</p>
</li>
<li>
<p><code>$ mvn -Ddocgen install -DskipTests -Dmaven.test.skip</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Still no bueno with DocGen. :(</p>
</div>
<div class="paragraph">
<p>Up until this point, I&#8217;ve spent two days on this task. I&#8217;ve decided to make lemonade out of my two-day-old lemons and correct the  <a href="https://docs.jboss.org/author/display/RHQ/Generating+Plugin+Documentation">Generating Plugin Documentation</a> community docs to reflect this. I also made changes to three other community pages linked from the <a href="https://docs.jboss.org/author/display/RHQ/Building+RHQ">Building RHQ</a> page doc page with correct information for Fedora 21:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.jboss.org/author/display/RHQ/Advanced+Build+Notes">Advanced Build Notes</a></p>
</li>
<li>
<p><a href="https://docs.jboss.org/author/display/RHQ/PostgreSQL">PostgreSQL</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This info will surely prove valuable for community devs that want to experiment with RHQ.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_actual_and_correct_process">The Actual (and correct) Process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This post is getting so long now, I think I&#8217;ll make a separate one.</p>
</div>
<div class="paragraph">
<p>There is still quite a path to traverse down before I can comfortably say "generating RHQ API docs is easy".</p>
</div>
<div class="paragraph">
<p>The <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1192869">BugZilla Bug</a> I raised to capture these challenges will hopefully help the engineers with resolving the issue for me, and for users of the project.</p>
</div>
<div class="paragraph">
<p>And what&#8217;s even better is that I&#8217;ll be able to update the generation procedures for API documentation for the next time I need to pull the docs out.</p>
</div>
</div>
</div>
    </div>

    <div class="post related">

    </div>

    <footer class="post comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
        var disqus_shortname = 'jaredmorgs'; // required: replace example with your forum shortname
        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </footer>

  </article>


        <footer>
          <span class="copyright">
            &copy; 2018. All rights reserved. Built with <a href="https://github.com/Kikobeats/uno-zen" target="_blank">Uno Zen</a> under <a href="http://hubpress.io/" target="_blank">HubPress</a>.
          </span>
        </footer>
      </section>
    </main>

    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>

    <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/prism/1.14.0/prism.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        // hljs.initHighlightingOnLoad();
      </script>
    <script src="//jaredleonmorgan.net/themes/uno-zen/assets/js/uno-zen.js?v=1535063628196" type="text/javascript" charset="utf-8"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-58317734-1', 'auto');
    ga('send', 'pageview');

    </script>
  </body>
</html>
